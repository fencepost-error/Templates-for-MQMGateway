# This file has been auto-generated by a script.  Any changes will be
# overwritten on the next rebuild.

modmqttd:
  converter_search_path:
    - /usr/lib/modmqttd
  converter_plugins:
    - stdconv.so
    - exprconv.so

modbus:
  networks:
    - name: annex
      address: waveshare.annex.lan
      port: 502

    - name: attic
      address: waveshare.attic.lan
      port: 502
      # The following is a workaround for bugs in devices that require an
      # entire group of coils/registers to be read at once.  Since this is
      # a bug workaround there's no way to handle this via scripts, it has
      # to be hardcoded in by hand.  In this case registers 1-13 have to be
      # read in one go, and 32 coils starting at 1 have to be read in one
      # go.  A poll group will always read at least as many items as it
      # contains even if only one item is accessed.
      slaves:
        - address: 1
          poll_groups:
            - register: 2
              register_type: holding
              count: 13
            - register: 2
              register_type: coil
              count: 32

    - name: network
      address: waveshare.network.lan
      port: 502

    - name: switchboard
      address: cdebyte.switchboard.lan
      port: 502

# This should only be enabled if the test device is present, otherwise
# MQMGateway will record an endless succession of connect errors.
#    - name: test
#      address: cdebyte.nb114.lan
#      port: 502

mqtt:
  client_id: modbus
  refresh: 60s
  broker:
    host: localhost
  objects:
